!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class n{constructor(t=0,e=0,r=0,n=255){this.r=Math.round(t),this.g=Math.round(e),this.b=Math.round(r),this.a=Math.round(n)}static compose(t){return(t.r<<2*n.bit)+(t.g<<n.bit)+t.b}get hex(){return"#"+this.toString(!0)}get rgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}get rgba(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`}toString(t=!1){return this.r.toString(16)+this.g.toString(16)+this.b.toString(16)+(t?this.a.toString(16):"")}get compose(){return n.compose(this)}}n.bit=3;class o{constructor(t){this.colors=null,this.colors=t.filter(t=>!(t.a<125)&&!(t.r<10&&t.g<10&&t.b<10))}get length(){return this.colors.length}get color(){const t=new n;return this.colors.forEach(e=>{t.r+=e.r,t.g+=e.g,t.b+=e.b}),t.r=t.r/this.length,t.g=t.g/this.length,t.b=t.b/this.length,t}deltaDimension(){let t="";const e=new n(0,0,0),r=new n(255,255,255),o=["r","g","b"];this.colors.forEach(t=>{o.forEach(n=>{e[n]=Math.max(e[n],t[n]),r[n]=Math.min(r[n],t[n])})});const i=new n;i.r=e.r-r.r,i.g=e.g-r.g,i.b=e.b-r.b;const s=Math.max(i.r,i.g,i.b);return{dimension:t=s===i.r?"r":s===i.g?"g":"b",value:e[t]-r[t],max:e,min:r}}cutWidthDimension(){const{dimension:t,value:e}=this.deltaDimension(),r=[],n=[],i=e/2;return this.colors.forEach(e=>{e[t]>i?n.push(e):r.push(e)}),{right:new o(n),left:new o(r)}}}class i{constructor(t){this.colors=null,this.volumes=[],this.volume=null,this.colors=t,this.volume=new o(t),this.volumes=[this.volume]}getPalette(t){let e=1;for(;this.volumes.length<t;){const t=[];if(this.volumes.forEach(e=>{const{left:r,right:n}=e.cutWidthDimension();0!==r.length&&t.push(r),0!==n.length&&t.push(n)}),e++>i.maxTime)break;this.volumes=t.sort((t,e)=>e.length-t.length)}return this.volumes.map(t=>t.color).slice(0,t)}}i.maxTime=15,document.querySelectorAll(".img").forEach(t=>{t.addEventListener("click",()=>{!function(t){const e=document.createElement("canvas");e.width=1e3,e.height=500,e.style.display="none",document.body.append(e);const r=e.getContext("2d");r.drawImage(t,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height).data,s=[];for(let t=0;t<o.length;t+=4)s.push(new n(o[4*t+0],o[4*t+1],o[4*t+2],o[4*t+3]));const l=new i(s).getPalette(8);document.querySelectorAll(".js-color").forEach((t,e)=>{l[e]&&(t.style.backgroundColor=l[e].rgb)}),e.remove()}(t.children[0])})})}]);